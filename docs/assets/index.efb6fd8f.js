const xe=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}};xe();var Xe="/panzoom-canvas-demo/assets/bg.2a8ecdad.png";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var B=function(e,r){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},B(e,r)};function ee(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");B(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function Ee(e,r,t,n){function i(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function s(f){try{c(n.next(f))}catch(y){u(y)}}function a(f){try{c(n.throw(f))}catch(y){u(y)}}function c(f){f.done?o(f.value):i(f.value).then(s,a)}c((n=n.apply(e,r||[])).next())})}function de(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return a([c,f])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=r.call(e,t)}catch(f){c=[6,f],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function L(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function E(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],u;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){u={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(u)throw u.error}}return o}function M(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}function X(e){return this instanceof X?(this.v=e,this):new X(e)}function Ie(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),i,o=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(h){n[h]&&(i[h]=function(m){return new Promise(function(g,v){o.push([h,m,g,v])>1||s(h,m)})})}function s(h,m){try{a(n[h](m))}catch(g){y(o[0][3],g)}}function a(h){h.value instanceof X?Promise.resolve(h.value.v).then(c,f):y(o[0][2],h)}function c(h){s("next",h)}function f(h){s("throw",h)}function y(h,m){h(m),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _e(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof L=="function"?L(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(u){return new Promise(function(s,a){u=e[o](u),i(s,a,u.done,u.value)})}}function i(o,u,s,a){Promise.resolve(a).then(function(c){o({value:c,done:s})},u)}}function d(e){return typeof e=="function"}function Ae(e){var r=function(n){Error.call(n),n.stack=new Error().stack},t=e(r);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Q=Ae(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function ie(e,r){if(e){var t=e.indexOf(r);0<=t&&e.splice(t,1)}}var he=function(){function e(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var r,t,n,i,o;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var s=L(u),a=s.next();!a.done;a=s.next()){var c=a.value;c.remove(this)}}catch(v){r={error:v}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(r)throw r.error}}else u.remove(this);var f=this.initialTeardown;if(d(f))try{f()}catch(v){o=v instanceof Q?v.errors:[v]}var y=this._finalizers;if(y){this._finalizers=null;try{for(var h=L(y),m=h.next();!m.done;m=h.next()){var g=m.value;try{ue(g)}catch(v){o=o!=null?o:[],v instanceof Q?o=M(M([],E(o)),E(v.errors)):o.push(v)}}}catch(v){n={error:v}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}}if(o)throw new Q(o)}},e.prototype.add=function(r){var t;if(r&&r!==this)if(this.closed)ue(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(r)}},e.prototype._hasParent=function(r){var t=this._parentage;return t===r||Array.isArray(t)&&t.includes(r)},e.prototype._addParent=function(r){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r},e.prototype._removeParent=function(r){var t=this._parentage;t===r?this._parentage=null:Array.isArray(t)&&ie(t,r)},e.prototype.remove=function(r){var t=this._finalizers;t&&ie(t,r),r instanceof e&&r._removeParent(this)},e.EMPTY=function(){var r=new e;return r.closed=!0,r}(),e}();function pe(e){return e instanceof he||e&&"closed"in e&&d(e.remove)&&d(e.add)&&d(e.unsubscribe)}function ue(e){d(e)?e():e.unsubscribe()}var k={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},q={setTimeout:function(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=q.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,M([e,r],E(t))):setTimeout.apply(void 0,M([e,r],E(t)))},clearTimeout:function(e){var r=q.delegate;return((r==null?void 0:r.clearTimeout)||clearTimeout)(e)},delegate:void 0};function ve(e){q.setTimeout(function(){var r=k.onUnhandledError;if(r)r(e);else throw e})}function V(){}var Oe=function(){return te("C",void 0,void 0)}();function Pe(e){return te("E",void 0,e)}function Le(e){return te("N",e,void 0)}function te(e,r,t){return{kind:e,value:r,error:t}}var j=null;function Me(e){if(k.useDeprecatedSynchronousErrorHandling){var r=!j;if(r&&(j={errorThrown:!1,error:null}),e(),r){var t=j,n=t.errorThrown,i=t.error;if(j=null,n)throw i}}else e()}var re=function(e){ee(r,e);function r(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,pe(t)&&t.add(n)):n.destination=Ue,n}return r.create=function(t,n,i){return new N(t,n,i)},r.prototype.next=function(t){this.isStopped?$(Le(t),this):this._next(t)},r.prototype.error=function(t){this.isStopped?$(Pe(t),this):(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped?$(Oe,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(he),ke=Function.prototype.bind;function Z(e,r){return ke.call(e,r)}var Ce=function(){function e(r){this.partialObserver=r}return e.prototype.next=function(r){var t=this.partialObserver;if(t.next)try{t.next(r)}catch(n){H(n)}},e.prototype.error=function(r){var t=this.partialObserver;if(t.error)try{t.error(r)}catch(n){H(n)}else H(r)},e.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(t){H(t)}},e}(),N=function(e){ee(r,e);function r(t,n,i){var o=e.call(this)||this,u;if(d(t)||!t)u={next:t!=null?t:void 0,error:n!=null?n:void 0,complete:i!=null?i:void 0};else{var s;o&&k.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=function(){return o.unsubscribe()},u={next:t.next&&Z(t.next,s),error:t.error&&Z(t.error,s),complete:t.complete&&Z(t.complete,s)}):u=t}return o.destination=new Ce(u),o}return r}(re);function H(e){ve(e)}function Re(e){throw e}function $(e,r){var t=k.onStoppedNotification;t&&q.setTimeout(function(){return t(e,r)})}var Ue={closed:!0,next:V,error:Re,complete:V},ne=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ye(e){return e}function De(e){return e.length===0?ye:e.length===1?e[0]:function(t){return e.reduce(function(n,i){return i(n)},t)}}var S=function(){function e(r){r&&(this._subscribe=r)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(r,t,n){var i=this,o=je(r)?r:new N(r,t,n);return Me(function(){var u=i,s=u.operator,a=u.source;o.add(s?s.call(o,a):a?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(t){r.error(t)}},e.prototype.forEach=function(r,t){var n=this;return t=ce(t),new t(function(i,o){var u=new N({next:function(s){try{r(s)}catch(a){o(a),u.unsubscribe()}},error:o,complete:i});n.subscribe(u)})},e.prototype._subscribe=function(r){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(r)},e.prototype[ne]=function(){return this},e.prototype.pipe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return De(r)(this)},e.prototype.toPromise=function(r){var t=this;return r=ce(r),new r(function(n,i){var o;t.subscribe(function(u){return o=u},function(u){return i(u)},function(){return n(o)})})},e.create=function(r){return new e(r)},e}();function ce(e){var r;return(r=e!=null?e:k.Promise)!==null&&r!==void 0?r:Promise}function Fe(e){return e&&d(e.next)&&d(e.error)&&d(e.complete)}function je(e){return e&&e instanceof re||Fe(e)&&pe(e)}function He(e){return d(e==null?void 0:e.lift)}function C(e){return function(r){if(He(r))return r.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function x(e,r,t,n,i){return new We(e,r,t,n,i)}var We=function(e){ee(r,e);function r(t,n,i,o,u,s){var a=e.call(this,t)||this;return a.onFinalize=u,a.shouldUnsubscribe=s,a._next=n?function(c){try{n(c)}catch(f){t.error(f)}}:e.prototype._next,a._error=o?function(c){try{o(c)}catch(f){t.error(f)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=i?function(){try{i()}catch(c){t.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,a}return r.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},r}(re),me=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function qe(e){return d(e==null?void 0:e.then)}function Ge(e){return d(e[ne])}function ze(e){return Symbol.asyncIterator&&d(e==null?void 0:e[Symbol.asyncIterator])}function Je(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Ke(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qe=Ke();function Ze(e){return d(e==null?void 0:e[Qe])}function $e(e){return Ie(this,arguments,function(){var t,n,i,o;return de(this,function(u){switch(u.label){case 0:t=e.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,X(t.read())];case 3:return n=u.sent(),i=n.value,o=n.done,o?[4,X(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,X(i)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Be(e){return d(e==null?void 0:e.getReader)}function A(e){if(e instanceof S)return e;if(e!=null){if(Ge(e))return Ve(e);if(me(e))return Ne(e);if(qe(e))return et(e);if(ze(e))return be(e);if(Ze(e))return tt(e);if(Be(e))return rt(e)}throw Je(e)}function Ve(e){return new S(function(r){var t=e[ne]();if(d(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ne(e){return new S(function(r){for(var t=0;t<e.length&&!r.closed;t++)r.next(e[t]);r.complete()})}function et(e){return new S(function(r){e.then(function(t){r.closed||(r.next(t),r.complete())},function(t){return r.error(t)}).then(null,ve)})}function tt(e){return new S(function(r){var t,n;try{for(var i=L(e),o=i.next();!o.done;o=i.next()){var u=o.value;if(r.next(u),r.closed)return}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}r.complete()})}function be(e){return new S(function(r){nt(e,r).catch(function(t){return r.error(t)})})}function rt(e){return be($e(e))}function nt(e,r){var t,n,i,o;return Ee(this,void 0,void 0,function(){var u,s;return de(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),t=_e(e),a.label=1;case 1:return[4,t.next()];case 2:if(n=a.sent(),!!n.done)return[3,4];if(u=n.value,r.next(u),r.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=a.sent(),i={error:s},[3,11];case 6:return a.trys.push([6,,9,10]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}function ot(e,r,t,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=r.schedule(function(){t(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function we(e,r){return C(function(t,n){var i=0;t.subscribe(x(n,function(o){n.next(e.call(r,o,i++))}))})}var it=Array.isArray;function ut(e,r){return it(r)?e.apply(void 0,M([],E(r))):e(r)}function ct(e){return we(function(r){return ut(e,r)})}function at(e,r,t,n,i,o,u,s){var a=[],c=0,f=0,y=!1,h=function(){y&&!a.length&&!c&&r.complete()},m=function(v){return c<n?g(v):a.push(v)},g=function(v){o&&r.next(v),c++;var oe=!1;A(t(v,f++)).subscribe(x(r,function(O){i==null||i(O),o?m(O):r.next(O)},function(){oe=!0},void 0,function(){if(oe)try{c--;for(var O=function(){var F=a.shift();u?ot(r,u,function(){return g(F)}):g(F)};a.length&&c<n;)O();h()}catch(F){r.error(F)}}))};return e.subscribe(x(r,m,function(){y=!0,h()})),function(){s==null||s()}}function ge(e,r,t){return t===void 0&&(t=1/0),d(r)?ge(function(n,i){return we(function(o,u){return r(n,o,i,u)})(A(e(n,i)))},t):(typeof r=="number"&&(t=r),C(function(n,i){return at(n,i,e,t)}))}function st(e){return new S(function(r){A(e()).subscribe(r)})}var lt=["addListener","removeListener"],ft=["addEventListener","removeEventListener"],dt=["on","off"];function b(e,r,t,n){if(d(t)&&(n=t,t=void 0),n)return b(e,r,t).pipe(ct(n));var i=E(vt(e)?ft.map(function(s){return function(a){return e[s](r,a,t)}}):ht(e)?lt.map(ae(e,r)):pt(e)?dt.map(ae(e,r)):[],2),o=i[0],u=i[1];if(!o&&me(e))return ge(function(s){return b(s,r,t)})(A(e));if(!o)throw new TypeError("Invalid event target");return new S(function(s){var a=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return s.next(1<c.length?c:c[0])};return o(a),function(){return u(a)}})}function ae(e,r){return function(t){return function(n){return e[t](r,n)}}}function ht(e){return d(e.addListener)&&d(e.removeListener)}function pt(e){return d(e.on)&&d(e.off)}function vt(e){return d(e.addEventListener)&&d(e.removeEventListener)}function yt(e,r,t){return st(function(){return e()?r:t})}function Se(e,r){return C(function(t,n){var i=null,o=0,u=!1,s=function(){return u&&!i&&n.complete()};t.subscribe(x(n,function(a){i==null||i.unsubscribe();var c=0,f=o++;A(e(a,f)).subscribe(i=x(n,function(y){return n.next(r?r(a,y,f,c++):y)},function(){i=null,s()}))},function(){u=!0,s()}))})}function G(e){return C(function(r,t){A(e).subscribe(x(t,function(){return t.complete()},V)),!t.closed&&r.subscribe(t)})}function Y(e,r,t){var n=d(e)||r||t?{next:e,error:r,complete:t}:e;return n?C(function(i,o){var u;(u=n.subscribe)===null||u===void 0||u.call(n);var s=!0;i.subscribe(x(o,function(a){var c;(c=n.next)===null||c===void 0||c.call(n,a),o.next(a)},function(){var a;s=!1,(a=n.complete)===null||a===void 0||a.call(n),o.complete()},function(a){var c;s=!1,(c=n.error)===null||c===void 0||c.call(n,a),o.error(a)},function(){var a,c;s&&((a=n.unsubscribe)===null||a===void 0||a.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):ye}CanvasRenderingContext2D.prototype.roundRect=function(e,r,t,n,i){return this.beginPath(),this.moveTo(e+i,r),this.arcTo(e+t,r,e+t,r+n,i),this.arcTo(e+t,r+n,e,r+n,i),this.arcTo(e,r+n,e,r,i),this.arcTo(e,r,e+t,r,i),this.fill(),this};var p=document.querySelector("canvas"),W=p.getContext("2d");p.width=window.innerWidth*.7;p.height=window.innerHeight;let w=p.width/1920,R=0,U=0,z=0,J=0,l={screenX:0,screenY:0,realX:0,realY:0};const T=new Image;T.src=Xe;T.onload=function(){w=p.width/T.naturalWidth,D()};function K(e,r){l.bounds=p.getBoundingClientRect(),l.screenX=e-l.bounds.left,l.screenY=r-l.bounds.top}function Ye(e,r){const t=l.realX,n=l.realY;K(e,r),l.realX=I(l.screenX),l.realY=_(l.screenY);const i=l.realX-t,o=l.realY-n;R-=i,U-=o,l.realX=I(l.screenX),l.realY=_(l.screenY),D()}function Te(e,r){K(e,r),l.realX=I(l.screenX),l.realY=_(l.screenY),R=l.realX,U=l.realY,z=l.screenX,J=l.screenY,l.realX=I(l.screenX),l.realY=_(l.screenY)}b(p,"mousedown").pipe(Y(e=>{K(e.clientX,e.clientY),l.realX=I(l.screenX),l.realY=_(l.screenY)}),Se(()=>b(p,"mousemove").pipe(Y(e=>Ye(e.clientX,e.clientY)),G(b(p,"mouseout")),G(b(p,"mouseup"))))).subscribe();b(p,"wheel",{passive:!1}).pipe(Y(e=>{e.preventDefault(),e.deltaY<0?w=Math.min(5,w*1.1):w=Math.max(.1,w*(1/1.1)),Te(e.clientX,e.clientY),D()})).subscribe();let se=0;b(p,"touchstart").pipe(Y(e=>{K(e.touches[0].clientX,e.touches[0].clientY),l.realX=I(l.screenX),l.realY=_(l.screenY)}),Se(e=>{e.touches.length===2&&(se=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY));const r=w;return yt(()=>e.touches.length===2,b(p,"touchmove",{passive:!1}).pipe(Y(t=>{const n=Math.hypot(t.touches[0].clientX-t.touches[1].clientX,t.touches[0].clientY-t.touches[1].clientY);w=r*(n/se);const i=(t.touches[0].clientX+t.touches[1].clientX)/2,o=(t.touches[0].clientY+t.touches[1].clientY)/2;Te(i,o),D()})),b(p,"touchmove").pipe(Y(t=>Ye(t.touches[0].clientX,t.touches[0].clientY)))).pipe(G(b(p,"touchend")),G(b(p,"touchcancel")))})).subscribe(()=>{},()=>{},()=>{alert("complete")});function P(e){return Math.floor(e*w)}function le(e){return Math.floor((e-R)*w+z)}function fe(e){return Math.floor((e-U)*w+J)}function I(e){return Math.floor((e-z)*(1/w)+R)}function _(e){return Math.floor((e-J)*(1/w)+U)}function D(){W.clearRect(0,0,p.width,p.height),W.drawImage(T,le(0),fe(0),P(T.naturalWidth),P(T.naturalHeight)),W.fillStyle="lineargradiant(0, 0, blue, red)",W.roundRect(le(194),fe(350),P(100),P(100),P(10))}b(window,"resize").pipe(Y(()=>{p.width=window.innerWidth,w=p.width/T.naturalWidth,mt(),D()})).subscribe();function mt(){R=0,U=0,z=0,J=0,l={screenX:0,screenY:0,realX:0,realY:0}}
