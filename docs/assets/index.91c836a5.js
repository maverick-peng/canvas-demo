const Ee=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&t(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};Ee();var xe="/panzoom-canvas-demo/assets/bg.2a8ecdad.png";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var z=function(e,r){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},z(e,r)};function Z(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");z(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}function Ye(e,r,n,t){function i(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function s(f){try{c(t.next(f))}catch(y){u(y)}}function a(f){try{c(t.throw(f))}catch(y){u(y)}}function c(f){f.done?o(f.value):i(f.value).then(s,a)}c((t=t.apply(e,r||[])).next())})}function de(e,r){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,i,o,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return a([c,f])}}function a(c){if(t)throw new TypeError("Generator is already executing.");for(;n;)try{if(t=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(e,n)}catch(f){c=[6,f],i=0}finally{t=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function M(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],t=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var t=n.call(e),i,o=[],u;try{for(;(r===void 0||r-- >0)&&!(i=t.next()).done;)o.push(i.value)}catch(s){u={error:s}}finally{try{i&&!i.done&&(n=t.return)&&n.call(t)}finally{if(u)throw u.error}}return o}function k(e,r,n){if(n||arguments.length===2)for(var t=0,i=r.length,o;t<i;t++)(o||!(t in r))&&(o||(o=Array.prototype.slice.call(r,0,t)),o[t]=r[t]);return e.concat(o||Array.prototype.slice.call(r))}function E(e){return this instanceof E?(this.v=e,this):new E(e)}function Ie(e,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n.apply(e,r||[]),i,o=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(h){t[h]&&(i[h]=function(m){return new Promise(function(w,p){o.push([h,m,w,p])>1||s(h,m)})})}function s(h,m){try{a(t[h](m))}catch(w){y(o[0][3],w)}}function a(h){h.value instanceof E?Promise.resolve(h.value.v).then(c,f):y(o[0][2],h)}function c(h){s("next",h)}function f(h){s("throw",h)}function y(h,m){h(m),o.shift(),o.length&&s(o[0][0],o[0][1])}}function Xe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],n;return r?r.call(e):(e=typeof M=="function"?M(e):e[Symbol.iterator](),n={},t("next"),t("throw"),t("return"),n[Symbol.asyncIterator]=function(){return this},n);function t(o){n[o]=e[o]&&function(u){return new Promise(function(s,a){u=e[o](u),i(s,a,u.done,u.value)})}}function i(o,u,s,a){Promise.resolve(a).then(function(c){o({value:c,done:s})},u)}}function d(e){return typeof e=="function"}function _e(e){var r=function(t){Error.call(t),t.stack=new Error().stack},n=e(r);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var K=_e(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(t,i){return i+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function ie(e,r){if(e){var n=e.indexOf(r);0<=n&&e.splice(n,1)}}var he=function(){function e(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var r,n,t,i,o;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var s=M(u),a=s.next();!a.done;a=s.next()){var c=a.value;c.remove(this)}}catch(p){r={error:p}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}else u.remove(this);var f=this.initialTeardown;if(d(f))try{f()}catch(p){o=p instanceof K?p.errors:[p]}var y=this._finalizers;if(y){this._finalizers=null;try{for(var h=M(y),m=h.next();!m.done;m=h.next()){var w=m.value;try{ue(w)}catch(p){o=o!=null?o:[],p instanceof K?o=k(k([],Y(o)),Y(p.errors)):o.push(p)}}}catch(p){t={error:p}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(t)throw t.error}}}if(o)throw new K(o)}},e.prototype.add=function(r){var n;if(r&&r!==this)if(this.closed)ue(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(r)}},e.prototype._hasParent=function(r){var n=this._parentage;return n===r||Array.isArray(n)&&n.includes(r)},e.prototype._addParent=function(r){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(r),n):n?[n,r]:r},e.prototype._removeParent=function(r){var n=this._parentage;n===r?this._parentage=null:Array.isArray(n)&&ie(n,r)},e.prototype.remove=function(r){var n=this._finalizers;n&&ie(n,r),r instanceof e&&r._removeParent(this)},e.EMPTY=function(){var r=new e;return r.closed=!0,r}(),e}();function pe(e){return e instanceof he||e&&"closed"in e&&d(e.remove)&&d(e.add)&&d(e.unsubscribe)}function ue(e){d(e)?e():e.unsubscribe()}var C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},H={setTimeout:function(e,r){for(var n=[],t=2;t<arguments.length;t++)n[t-2]=arguments[t];var i=H.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,k([e,r],Y(n))):setTimeout.apply(void 0,k([e,r],Y(n)))},clearTimeout:function(e){var r=H.delegate;return((r==null?void 0:r.clearTimeout)||clearTimeout)(e)},delegate:void 0};function ve(e){H.setTimeout(function(){var r=C.onUnhandledError;if(r)r(e);else throw e})}function B(){}var Ae=function(){return N("C",void 0,void 0)}();function Oe(e){return N("E",void 0,e)}function Pe(e){return N("N",e,void 0)}function N(e,r,n){return{kind:e,value:r,error:n}}var D=null;function Le(e){if(C.useDeprecatedSynchronousErrorHandling){var r=!D;if(r&&(D={errorThrown:!1,error:null}),e(),r){var n=D,t=n.errorThrown,i=n.error;if(D=null,t)throw i}}else e()}var ee=function(e){Z(r,e);function r(n){var t=e.call(this)||this;return t.isStopped=!1,n?(t.destination=n,pe(n)&&n.add(t)):t.destination=Re,t}return r.create=function(n,t,i){return new V(n,t,i)},r.prototype.next=function(n){this.isStopped?$(Pe(n),this):this._next(n)},r.prototype.error=function(n){this.isStopped?$(Oe(n),this):(this.isStopped=!0,this._error(n))},r.prototype.complete=function(){this.isStopped?$(Ae,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(n){this.destination.next(n)},r.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(he),Me=Function.prototype.bind;function Q(e,r){return Me.call(e,r)}var ke=function(){function e(r){this.partialObserver=r}return e.prototype.next=function(r){var n=this.partialObserver;if(n.next)try{n.next(r)}catch(t){F(t)}},e.prototype.error=function(r){var n=this.partialObserver;if(n.error)try{n.error(r)}catch(t){F(t)}else F(r)},e.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(n){F(n)}},e}(),V=function(e){Z(r,e);function r(n,t,i){var o=e.call(this)||this,u;if(d(n)||!n)u={next:n!=null?n:void 0,error:t!=null?t:void 0,complete:i!=null?i:void 0};else{var s;o&&C.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=function(){return o.unsubscribe()},u={next:n.next&&Q(n.next,s),error:n.error&&Q(n.error,s),complete:n.complete&&Q(n.complete,s)}):u=n}return o.destination=new ke(u),o}return r}(ee);function F(e){ve(e)}function Ce(e){throw e}function $(e,r){var n=C.onStoppedNotification;n&&H.setTimeout(function(){return n(e,r)})}var Re={closed:!0,next:B,error:Ce,complete:B},re=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ye(e){return e}function Ue(e){return e.length===0?ye:e.length===1?e[0]:function(n){return e.reduce(function(t,i){return i(t)},n)}}var S=function(){function e(r){r&&(this._subscribe=r)}return e.prototype.lift=function(r){var n=new e;return n.source=this,n.operator=r,n},e.prototype.subscribe=function(r,n,t){var i=this,o=Fe(r)?r:new V(r,n,t);return Le(function(){var u=i,s=u.operator,a=u.source;o.add(s?s.call(o,a):a?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(n){r.error(n)}},e.prototype.forEach=function(r,n){var t=this;return n=ce(n),new n(function(i,o){var u=new V({next:function(s){try{r(s)}catch(a){o(a),u.unsubscribe()}},error:o,complete:i});t.subscribe(u)})},e.prototype._subscribe=function(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)},e.prototype[re]=function(){return this},e.prototype.pipe=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Ue(r)(this)},e.prototype.toPromise=function(r){var n=this;return r=ce(r),new r(function(t,i){var o;n.subscribe(function(u){return o=u},function(u){return i(u)},function(){return t(o)})})},e.create=function(r){return new e(r)},e}();function ce(e){var r;return(r=e!=null?e:C.Promise)!==null&&r!==void 0?r:Promise}function De(e){return e&&d(e.next)&&d(e.error)&&d(e.complete)}function Fe(e){return e&&e instanceof ee||De(e)&&pe(e)}function je(e){return d(e==null?void 0:e.lift)}function R(e){return function(r){if(je(r))return r.lift(function(n){try{return e(n,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}function T(e,r,n,t,i){return new He(e,r,n,t,i)}var He=function(e){Z(r,e);function r(n,t,i,o,u,s){var a=e.call(this,n)||this;return a.onFinalize=u,a.shouldUnsubscribe=s,a._next=t?function(c){try{t(c)}catch(f){n.error(f)}}:e.prototype._next,a._error=o?function(c){try{o(c)}catch(f){n.error(f)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,a}return r.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var t=this.closed;e.prototype.unsubscribe.call(this),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},r}(ee),me=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function qe(e){return d(e==null?void 0:e.then)}function Ge(e){return d(e[re])}function We(e){return Symbol.asyncIterator&&d(e==null?void 0:e[Symbol.asyncIterator])}function Je(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Ke(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qe=Ke();function $e(e){return d(e==null?void 0:e[Qe])}function ze(e){return Ie(this,arguments,function(){var n,t,i,o;return de(this,function(u){switch(u.label){case 0:n=e.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,E(n.read())];case 3:return t=u.sent(),i=t.value,o=t.done,o?[4,E(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,E(i)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Be(e){return d(e==null?void 0:e.getReader)}function _(e){if(e instanceof S)return e;if(e!=null){if(Ge(e))return Ve(e);if(me(e))return Ze(e);if(qe(e))return Ne(e);if(We(e))return be(e);if($e(e))return er(e);if(Be(e))return rr(e)}throw Je(e)}function Ve(e){return new S(function(r){var n=e[re]();if(d(n.subscribe))return n.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ze(e){return new S(function(r){for(var n=0;n<e.length&&!r.closed;n++)r.next(e[n]);r.complete()})}function Ne(e){return new S(function(r){e.then(function(n){r.closed||(r.next(n),r.complete())},function(n){return r.error(n)}).then(null,ve)})}function er(e){return new S(function(r){var n,t;try{for(var i=M(e),o=i.next();!o.done;o=i.next()){var u=o.value;if(r.next(u),r.closed)return}}catch(s){n={error:s}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(n)throw n.error}}r.complete()})}function be(e){return new S(function(r){nr(e,r).catch(function(n){return r.error(n)})})}function rr(e){return be(ze(e))}function nr(e,r){var n,t,i,o;return Ye(this,void 0,void 0,function(){var u,s;return de(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),n=Xe(e),a.label=1;case 1:return[4,n.next()];case 2:if(t=a.sent(),!!t.done)return[3,4];if(u=t.value,r.next(u),r.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=a.sent(),i={error:s},[3,11];case 6:return a.trys.push([6,,9,10]),t&&!t.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}function tr(e,r,n,t,i){t===void 0&&(t=0),i===void 0&&(i=!1);var o=r.schedule(function(){n(),i?e.add(this.schedule(null,t)):this.unsubscribe()},t);if(e.add(o),!i)return o}function ge(e,r){return R(function(n,t){var i=0;n.subscribe(T(t,function(o){t.next(e.call(r,o,i++))}))})}var or=Array.isArray;function ir(e,r){return or(r)?e.apply(void 0,k([],Y(r))):e(r)}function ur(e){return ge(function(r){return ir(e,r)})}function cr(e,r,n,t,i,o,u,s){var a=[],c=0,f=0,y=!1,h=function(){y&&!a.length&&!c&&r.complete()},m=function(p){return c<t?w(p):a.push(p)},w=function(p){o&&r.next(p),c++;var oe=!1;_(n(p,f++)).subscribe(T(r,function(A){i==null||i(A),o?m(A):r.next(A)},function(){oe=!0},void 0,function(){if(oe)try{c--;for(var A=function(){var U=a.shift();u?tr(r,u,function(){return w(U)}):w(U)};a.length&&c<t;)A();h()}catch(U){r.error(U)}}))};return e.subscribe(T(r,m,function(){y=!0,h()})),function(){s==null||s()}}function we(e,r,n){return n===void 0&&(n=1/0),d(r)?we(function(t,i){return ge(function(o,u){return r(t,o,i,u)})(_(e(t,i)))},n):(typeof r=="number"&&(n=r),R(function(t,i){return cr(t,i,e,n)}))}function ar(e){return new S(function(r){_(e()).subscribe(r)})}var sr=["addListener","removeListener"],lr=["addEventListener","removeEventListener"],fr=["on","off"];function b(e,r,n,t){if(d(n)&&(t=n,n=void 0),t)return b(e,r,n).pipe(ur(t));var i=Y(pr(e)?lr.map(function(s){return function(a){return e[s](r,a,n)}}):dr(e)?sr.map(ae(e,r)):hr(e)?fr.map(ae(e,r)):[],2),o=i[0],u=i[1];if(!o&&me(e))return we(function(s){return b(s,r,n)})(_(e));if(!o)throw new TypeError("Invalid event target");return new S(function(s){var a=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return s.next(1<c.length?c:c[0])};return o(a),function(){return u(a)}})}function ae(e,r){return function(n){return function(t){return e[n](r,t)}}}function dr(e){return d(e.addListener)&&d(e.removeListener)}function hr(e){return d(e.on)&&d(e.off)}function pr(e){return d(e.addEventListener)&&d(e.removeEventListener)}function vr(e,r,n){return ar(function(){return e()?r:n})}function Se(e,r){return R(function(n,t){var i=null,o=0,u=!1,s=function(){return u&&!i&&t.complete()};n.subscribe(T(t,function(a){i==null||i.unsubscribe();var c=0,f=o++;_(e(a,f)).subscribe(i=T(t,function(y){return t.next(r?r(a,y,f,c++):y)},function(){i=null,s()}))},function(){u=!0,s()}))})}function P(e){return R(function(r,n){_(e).subscribe(T(n,function(){return n.complete()},B)),!n.closed&&r.subscribe(n)})}function x(e,r,n){var t=d(e)||r||n?{next:e,error:r,complete:n}:e;return t?R(function(i,o){var u;(u=t.subscribe)===null||u===void 0||u.call(t);var s=!0;i.subscribe(T(o,function(a){var c;(c=t.next)===null||c===void 0||c.call(t,a),o.next(a)},function(){var a;s=!1,(a=t.complete)===null||a===void 0||a.call(t),o.complete()},function(a){var c;s=!1,(c=t.error)===null||c===void 0||c.call(t,a),o.error(a)},function(){var a,c;s&&((a=t.unsubscribe)===null||a===void 0||a.call(t)),(c=t.finalize)===null||c===void 0||c.call(t)}))}):ye}CanvasRenderingContext2D.prototype.roundRect=function(e,r,n,t,i){return this.beginPath(),this.moveTo(e+i,r),this.arcTo(e+n,r,e+n,r+t,i),this.arcTo(e+n,r+t,e,r+t,i),this.arcTo(e,r+t,e,r,i),this.arcTo(e,r,e+n,r,i),this.fill(),this};var v=document.querySelector("canvas"),j=v.getContext("2d");v.width=window.innerWidth*.7;v.height=window.innerHeight;let g=v.width/1920,q=0,G=0,ne=0,te=0;const l={screenX:0,screenY:0,realX:0,realY:0},L=new Image;L.src=xe;L.onload=function(){J()};function W(e,r){l.bounds=v.getBoundingClientRect(),l.screenX=e-l.bounds.left,l.screenY=r-l.bounds.top}function Te(e,r){const n=l.realX,t=l.realY;W(e,r),l.realX=I(l.screenX),l.realY=X(l.screenY);const i=l.realX-n,o=l.realY-t;q-=i,G-=o,l.realX=I(l.screenX),l.realY=X(l.screenY),J()}b(v,"mousedown").pipe(x(e=>{W(e.clientX,e.clientY),l.realX=I(l.screenX),l.realY=X(l.screenY)}),Se(()=>b(v,"mousemove").pipe(x(e=>Te(e.clientX,e.clientY)),P(b(v,"mouseout")),P(b(v,"mouseup"))))).subscribe();b(v,"wheel",{passive:!1}).pipe(x(e=>{e.preventDefault(),e.deltaY<0?g=Math.min(5,g*1.1):g=Math.max(.1,g*(1/1.1)),W(e.clientX,e.clientY),l.realX=I(l.screenX),l.realY=X(l.screenY),console.log(l),q=l.realX,G=l.realY,ne=l.screenX,te=l.screenY,l.realX=I(l.screenX),l.realY=X(l.screenY),J()})).subscribe();let se=0;b(v,"touchstart").pipe(x(e=>{W(e.touches[0].clientX,e.touches[0].clientY),l.realX=I(l.screenX),l.realY=X(l.screenY),e.touches.length===2&&(se=Math.hypot(e.touches[0].pageX-e.touches[1].pageX,e.touches[0].pageY-e.touches[1].pageY))}),Se(e=>vr(()=>e.touches.length===2,b(v,"touchmove").pipe(x(r=>{g=Math.hypot(r.touches[0].pageX-r.touches[1].pageX,r.touches[0].pageY-r.touches[1].pageY)/se,J()}),P(b(v,"mouseend"))),b(v,"touchmove").pipe(x(r=>Te(r.touches[0].clientX,r.touches[0].clientY)),P(b(v,"touchend")),P(b(v,"touchcancel")))))).subscribe();function O(e){return Math.floor(e*g)}function le(e){return Math.floor((e-q)*g+ne)}function fe(e){return Math.floor((e-G)*g+te)}function I(e){return Math.floor((e-ne)*(1/g)+q)}function X(e){return Math.floor((e-te)*(1/g)+G)}function J(){j.clearRect(0,0,v.width,v.height),j.drawImage(L,le(0),fe(0),O(L.naturalWidth),O(L.naturalHeight)),j.fillStyle="lineargradiant(0, 0, blue, red)",j.roundRect(le(194),fe(350),O(100),O(100),O(10))}
